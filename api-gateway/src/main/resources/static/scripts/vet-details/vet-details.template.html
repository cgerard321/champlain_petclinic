<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
      integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet">
<link href="form.css" rel="stylesheet" type="text/css"/>
<link href="/css/ownerdetail.css" rel="stylesheet" type="text/css"/>
<link href="/css/vets/ratings.css" rel="stylesheet" type="text/css"/>



<div class="bg-light">
    <div class="container">
        <div class="py-5 text-center"/>
        <h2 class="titleVetForm">Vet Information</h2>
    </div>
    <div class="row g-5">
        <div class="col-md-7 col-lg-12">

            <div class="row g-3">
                <div class="col-sm-6">
                    <td rowspan="5">
                        <div class="parent">
                            <img alt="Profile picture preview" src="data:image/png;base64, {{$ctrl.vetPhoto.photo}}" width="150" height="150" class="image1">
                            <img alt="" src="data:image/png;base64, {{$ctrl.PreviewImage}}" ng-show="$ctrl.PreviewImage != null" width="150" height="150" class="image2"/>
                            <input type="file" accept="image/jpeg" class="fileInput" id="photoVet"/>
                        </div>
                    </td>
<!--                        <span class="modal_image"><img ng-if="vet.image != null"-->
<!--                                                       src="data:image/png;base64,{{vet.image}}"/>-->
<!--                            <img alt="Profile picture preview" id="preview" ng-if="vet.image == null"-->
<!--                                 src="images/vet_default.jpg"/>-->
<!--                        </span>-->
                </div>
                <div class="col-sm-6">

                </div>
            </div>

            <div class="row g-3">
                <div class="col-sm-12">
                    {{$ctrl.vet.firstName}} {{$ctrl.vet.lastName}}
                </div>

                <div class="col-6">
                    {{$ctrl.vet.email}}
                </div>

                <div class="col-sm-6">
                    {{$ctrl.vet.phoneNumber}}
                </div>

                <hr class="my-4"/>

                <div class="col-sm-12">
                    <h5 class="form-label">Specialisation(s)</h5>
                    <div>
                        <span ng-repeat="specialty in $ctrl.vet.specialties">{{specialty.name + ' '}}</span>
                    </div>
                </div>

                <hr class="my-4"/>

                <div class="col-sm-12">
                    <h5 class="form-label">Career Resume</h5>
                    <div>
                        {{$ctrl.vet.resume}}
                    </div>
                </div>


                <hr class="my-4"/>

                <div class="row gy-3">
                    <div class="col-md-12">
                        <h5 class="mb-3">Work Day</h5>
                        <div>
                            <p id="workDays">{{$ctrl.vet.workday}}</p>
                        </div>
                    </div>
                </div>


                <table style="display: none">
                    <tr ng-repeat="v in $ctrl.visitsList" style="display: none">
                        <td class="visitsDates" id="{{v.date}}" style="display: none">{{v.date}}}</td>
                    </tr>
                </table>


                <hr class="my-4"/>
                <div class="row gy-3">
                    <div class="col-md-12">

                        <button class="add-vet-button btn btn-primary" id="toggle" onclick="displayDays()">Show
                            availabilities
                        </button>
                    </div>

                    <div class="col-md-12" id="displayNone" style="display: none">
                        <div class="day-of-week" id="section">
                            <div class="square" id="Sunday">Sunday</div>
                            <div class="square" id="Monday">Monday</div>
                            <div class="square" id="Tuesday">Tuesday</div>
                            <div class="square" id="Wednesday">Wednesday</div>
                            <div class="square" id="Thursday">Thursday</div>
                            <div class="square" id="Friday">Friday</div>
                            <div class="square" id="Saturday">Saturday</div>
                        </div>
                    </div>

                </div>
                <hr class="my-4"/>

                <div class="row g-3">
                    <div class="col-sm-12">
                        <a ui-sref="vetEdit({vetId: $ctrl.vet.vetId})">
                            <button class="edit-vet-button btn btn-success">Edit Vet</button>
                        </a>
                    </div>
                </div>

                <div class="row g-3">
                    <div class="col-sm-12">
                        <h3 class="form-label-rating text-center">Ratings</h3>
                        <div ng-if="$ctrl.ratings.length === 0" style="text-align: center">
                            This vet has no ratings.
                        </div>
                        <div ng-repeat="rating in $ctrl.ratings track by rating.ratingId" ng-if="$ctrl.ratings.length > 0">
                            <div class="rating-item d-flex justify-content-center align-items-center">
                                <span class="rating-value">{{ rating.rateScore }} / 5</span>
                                <form enctype="multipart/form-data" id="updateForm" name="updateForm">
                                    <div class="col-sm-12" name="ratingUpdate" id="ratingUpdate" style="display: none">
                                        <select name="ratingOptions" id="ratingOptions">
                                            <option value="1">1/5</option>
                                            <option value="2">2/5</option>
                                            <option value="3">3/5</option>
                                            <option value="4">4/5</option>
                                            <option value="5">5/5</option>
                                        </select>
                                        <br/>
                                        <h5 class="form-label">Review Description</h5>
                                        <textarea class="form-control" id="updateDescription" maxlength="350" name="updateDescription"
                                                  ng-model="rating.rateDescription" pattern="^(.*)" placeholder="Update Description"
                                                  title="Maximum of 350 characters."></textarea>
                                    </div>
                                </form>
                                <button class="update-vet-button btn btn-success" id="updateRatingBtn" ng-click="$ctrl.updateRating(rating.ratingId, updateForm)">
                                    Update
                                </button>
                                <a class="btn btn-danger ratingButton" href="javascript:void(0)" ng-click="deleteVetRating(rating.ratingId)">Delete Rating</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row g-3">
                    <div class="col-sm-12">
                        <h3 class="form-label-rating">Add A Rating</h3>
                        <form enctype="multipart/form-data" id="ratingForm" name="ratingForm">
                            <div class="row-3">
                                <div class="col-sm-12 form-label-rating">
                                    <select name="rateScore" id="ratingScore" ng-model="rating.rateScore">
                                        <option value="1">1/5</option>
                                        <option value="2">2/5</option>
                                        <option value="3">3/5</option>
                                        <option value="4">4/5</option>
                                        <option value="5">5/5</option>
                                    </select>
                                </div>
                                <div class="col-sm-12">
                                    <h5 class="form-label">Review Description</h5>
                                    <textarea class="form-control" id="ratingDescription" maxlength="350" name="description"
                                              ng-model="rating.rateDescription" pattern="^(.*)" placeholder="Description"
                                              title="Maximum of 350 characters."></textarea>
                                </div>
                                <br/>
                                <button class="btn btn-primary ratingButton" ng-click="$ctrl.submitRatingForm(ratingForm)" type="submit">
                                    Submit
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="row g-3" ng-if="$ctrl.ratings.length > 0">
                        <div class="col-sm-12">
                            <h3 class="form-label-rating">Percentages of ratings:</h3>
                            <div id="ratings-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>