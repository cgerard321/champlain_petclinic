<link href="/css/pet.css" rel="stylesheet" type="text/css"/>

<div class="dashboard-container" ng-app="petTypeList" ng-controller="PetTypeListController as self">
    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title">Pet Types</h1>
            <p class="page-subtitle">Manage and configure pet types in the system</p>
        </div>

        <div class="content-wrapper">
            <div class="add-pet-type-card">
                <button class="btn-add" ng-click="self.toggleAddForm()">
                    ‚ûï Add New Pet Type
                </button>

                <div ng-show="self.showAddForm" class="add-form">
                    <form name="addForm" novalidate>
                        <h5>Add New Pet Type</h5>
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text"
                                   class="form-control"
                                   name="name"
                                   ng-model="self.newPetType.name"
                                   ng-pattern="/^[a-zA-Z\s]+$/"
                                   required>
                            <small class="text-danger" ng-show="addForm.name.$error.pattern">
                                Letters and spaces only
                            </small>
                        </div>
                        <div class="form-group">
                            <label>Description:</label>
                            <input type="text"
                                   class="form-control"
                                   name="description"
                                   ng-model="self.newPetType.petTypeDescription"
                                   ng-pattern="/^[a-zA-Z\s]+$/"
                                   required>
                            <small class="text-danger" ng-show="addForm.description.$error.pattern">
                                Letters and spaces only
                            </small>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-primary"
                                    ng-click="self.addPetType()">Save</button>
                            <button type="button" class="btn-secondary"
                                    ng-click="self.toggleAddForm()">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="filters-card">
                <div class="filters-header">
                    <div class="filters-title">Search & Filter</div>
                    <div class="action-buttons">
                        <button class="btn-modern btn-search" ng-click="self.searchPetTypesByPaginationAndFilters()">
                            üîç Search
                        </button>
                        <button class="btn-modern btn-reset" ng-click="self.clearInputAndResetDefaultData()">
                            ‚Üª Reset
                        </button>
                    </div>
                </div>

                <div class="filters-grid">
                    <div class="filter-group">
                        <input id="petTypeIdInput" type="text" class="filter-input" placeholder="Enter Pet Type ID...">
                        <label class="filter-label">Pet Type ID</label>
                    </div>
                    <div class="filter-group">
                        <input id="nameInput" type="text" class="filter-input" placeholder="Enter name...">
                        <label class="filter-label">Name</label>
                    </div>
                    <div class="filter-group d-none d-sm-flex">
                        <input id="descriptionInput" type="text" class="filter-input" placeholder="Enter description...">
                        <label class="filter-label">Description</label>
                    </div>
                    <div class="filter-group">
                        <select id="sizeInput" class="filter-input" style="width: 100%">
                            <option value="">Select page size</option>
                            <option value="2">2 per page</option>
                            <option value="5">5 per page</option>
                            <option value="10">10 per page</option>
                            <option value="15">15 per page</option>
                        </select>
                        <label class="filter-label">Page Size</label>
                    </div>
                </div>
            </div>

            <div class="table-card">
                <table id="petType" class="table table-modern">
                    <thead>
                        <tr>
                            <th>Pet Type ID</th>
                            <th>Pet Type Name</th>
                            <th class="d-none d-sm-table-cell d-md-table-cell">Description</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="petType in self.petTypes">
                            <td>
                                <a class="link-modern" ui-sref="petTypeDetails({ petTypeId: petType.petTypeId })">
                                    {{petType.petTypeId}}
                                </a>
                            </td>
                            <td class="responsive-text">
                                <span ng-if="self.editingPetType !== petType.petTypeId">{{petType.name}}</span>
                                <input ng-if="self.editingPetType === petType.petTypeId"
                                       type="text"
                                       ng-model="self.editForm.name"
                                       class="form-control form-control-sm">
                            </td>
                            <td class="d-none d-sm-table-cell d-md-table-cell responsive-text">
                                <span ng-if="self.editingPetType !== petType.petTypeId">{{petType.petTypeDescription}}</span>
                                <input ng-if="self.editingPetType === petType.petTypeId"
                                       type="text"
                                       ng-model="self.editForm.petTypeDescription"
                                       class="form-control form-control-sm">
                            </td>
                            <td>
                                <button ng-if="self.editingPetType !== petType.petTypeId"
                                        class="btn-sm btn-primary-sm"
                                        ng-click="self.editPetType(petType)">Update</button>
                                <button ng-if="self.editingPetType === petType.petTypeId"
                                        class="btn-sm btn-success-sm"
                                        ng-click="self.savePetType(petType.petTypeId)">Save</button>
                                <button ng-if="self.editingPetType === petType.petTypeId"
                                        class="btn-sm btn-secondary-sm"
                                        ng-click="self.cancelEdit()">Cancel</button>
                                <button class="btn-sm btn-danger-sm"
                                        ng-click="self.deletePetType(petType.petTypeId)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="pagination-card">
                <nav aria-label="Page navigation">
                    <ul class="pagination-modern">
                        <li class="page-item-modern">
                            <a class="page-link-modern" aria-label="Previous" ng-click="self.goPreviousPage()">
                                ‚Äπ
                            </a>
                        </li>
                        <li class="page-item-modern">
                            <a class="page-number-link-modern" disabled>Page {{self.currentPageOnSite}}</a>
                        </li>
                        <li class="page-item-modern">
                            <a class="page-link-modern" aria-label="Next" ng-click="self.goNextPage()">
                                ‚Ä∫
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>